{{ $c := "c-Centered-block--demo" }}

{{ $media_ext := "" }}
{{ $media_path := "" }}
{{ $img_extensions := slice ".png" ".jpg" ".jpeg" ".gif" ".webp" ".svg" }}
{{ $vid_extensions := slice ".mov" ".mp4" ".wmv" ".webm" ".avi" ".flv" }}

<div class="{{ $c }}">
    <div class="content-wrapper">
        {{ partial "bookshop" .heading }}
    </div>
    <div class="inner-grid">
        <div class="image-wrapper">
            <img class="mobile" src="/img/demo-background-mobile.svg" />
            <img class="tablet" src="/img/demo-background-tablet.svg" />
            <img class="desktop" src="/img/demo-background-desktop.svg" />

            <div class="media-holder">
                <div class="media elevation-medium">
                    {{ if eq .use "media" }}
                        {{ $media_ext = path.Ext .media }}
                        {{ $media_path = .media }}
                    {{ else if eq .use "external url" }}
                        {{ $media_ext = path.Ext .external_url }}
                        {{ $media_path = .external_url }}
                    {{ end }}
                    
                    {{ if eq .use "embed code" }}
                        {{ if ne .embed_code "" }}
                            {{ .embed_code | safeHTML }}
                        {{ end }}                          
                    {{ else if ne $media_ext "" }}
                        {{ if in $img_extensions $media_ext }}
                            <img src="{{ .media_path }}" />
                        {{ else if in $vid_extensions $media_ext }}
                            <video autoplay>
                                <source src="{{ .media_path }}">
                            </video>
                        {{ end }}    
                    {{ end }}                    
                </div>
            </div>
        </div>
    </div>
</div>